(this["webpackJsonpcroma-pdp-app"]=this["webpackJsonpcroma-pdp-app"]||[]).push([[63],{1022:function(e,t,a){"use strict";a.r(t),a.d(t,"PdpProductCarousal",(function(){return se})),a.d(t,"mapStateToProps",(function(){return de})),a.d(t,"mapDispatchToProps",(function(){return ue}));var o=a(0),r=a.n(o),l=a(24),i=a(276),n=a(502),c=a(219),s=a(2),d=a(387),u=a(388),m=a(22),p=a(5);const g=a(14).Link;var b=function(e){let{productImg:t,productName:a,productDetailsPageRelativeUrl:l,recId:i,productId:n,item:c,sectionHeading:b,position:v,totalItems:C}=e;const[T,f]=Object(o.useState)(""),[S]=Object(m.a)();Object(o.useEffect)(()=>{if(0!==S)if(t){const e=Array.isArray(t)?t[0]:t;f(e)}else f(s.a.FALLBACK_IMG)},[t]);try{return r.a.createElement("div",{className:"product-img"},r.a.createElement(g,{to:l,onClick:()=>{Object(d.a)(i,n,c,c.productCode,v,C,"smart_bundle"),Object(u.a)(b,c.productCode,v,c.productTitle,c,"smart_bundle","Recommendation")}},r.a.createElement("img",{src:Object(p.c)(T),title:a,alt:"".concat(a)})))}catch(E){return console.log(E),r.a.createElement(r.a.Fragment,null," ")}},v=a(492),C=a(171),T=a(11);const f=a(14).Link,S=r.a.memo(c.a),E=r.a.memo(b),D=r.a.memo(v.default),h=r.a.memo(C.a);var y=function(e){let{sectionHeading:t,item:a,recId:o,productId:l,position:i,totalItems:n}=e,c="";if(a&&a.productUrl)if(a.productUrl.includes("croma.com/")){const e=a.productUrl.split("croma.com/"),t=e[1].split("/p/")[0].replace(/\//g,"-");c="/".concat(t,"/p/").concat(e[1].split("/p/")[1])}else c=a.productUrl;try{return r.a.createElement("div",{className:"cp-product typ-horizontal typ-chkbox"},r.a.createElement(E,{productImg:a.productImageUrl&&a.productImageUrl.url?a.productImageUrl.url:"",productName:a.productTitle,productDetailsPageRelativeUrl:c,recId:o,productId:l,item:a,sectionHeading:t,position:i,totalItems:n}),r.a.createElement("div",{className:"product-info"},(T.isMobile,r.a.createElement(f,{to:c,onClick:()=>{Object(d.a)(o,l,a,a.productCode,i,n,"smart_bundle"),Object(u.a)(t,a.productCode,i,a.productTitle,a,"smart_bundle","Recommendation")}},r.a.createElement(S,{productTitle:a.productTitle,productSubTitle:a.product_subtitle,titleLength:s.a.MAX_RECOMMENDATION_PRODUCT_TITLE_LENGTH}),r.a.createElement(D,{actualPrice:a.mrp&&a.mrp.value?a.mrp.value:0,offerPrice:a.productPrice&&a.productPrice.value?a.productPrice.value:a.mrp&&a.mrp.value?a.mrp.value:0}),r.a.createElement("div",{className:1===i?"cp-rating ".concat(o,"_carousal_product_info"):"cp-rating"},r.a.createElement(h,{rating:a.averageRating?parseFloat(a.averageRating):0}))))))}catch(m){return console.log(m),r.a.createElement(r.a.Fragment,null," ")}},O=a(70),F=a(1),_=a(116),M=a(6),A=a(45);var N=(e,t)=>{const a=Object(M.a)();let o="",r="",l=Object(A.a)(),i="",n="",c="";if(c="tcp"===localStorage.getItem("isTCPBody")?"yes":"No",a?(o="registered user",n=a):(o="guest user",n=""),r=localStorage.getItem("3hrPincode")?JSON.parse(localStorage.getItem("3hrPincode")):"",i=localStorage.getItem("preferredStore")?JSON.parse(localStorage.getItem("preferredStore")):"","undefined"!==typeof window){window.digitalData={page:{pageName:"pdp",channel:"croma:pdp",prevPageName:l,pinCode:r,loginStatus:o,customerID:n,storeName:i,tcpCustomer:c},event:{linkName:e,linkType:"clicked",linkPosition:t}};try{"undefined"!==typeof window._satellite&&window._satellite&&window._satellite.track("otherClick")}catch(s){}}},P=a(9);var k=function(e){let{itemArr:t,showToastMsg:a,recId:l,sectionHeading:i,smartBundleTotalPrice:n}=e;const c=Object(O.useHistory)();let d=[],u=[],m=[],p=[];const[g,b]=Object(o.useState)(!1);let v=0;v=n||0;const C=e=>{b(!1),e&&"success"===e.status?c.push("/cart"):a(e.message,P.e.ERROR)};try{return r.a.createElement("button",{type:"button",className:v<s.a.MINIMUM_BUYABLE_PRICE?"btn btn-default disable-btn-in-pdp-cart":g?"btn btn-default btn-loader":"btn btn-default",onClick:e=>{b(!0),t&&Array.isArray(t)&&t.length>0&&t.forEach(e=>{d.push(e.productCode),u.push(1),m.push(e.productPrice&&e.productPrice.value?e.productPrice.value:e.mrp&&e.mrp.value?e.mrp.value:0),p.push(e.mrp&&e.mrp.value?e.mrp.value:0)}),Object(_.a)(d.toString(),u.toString(),m.toString(),p.toString(),C,l),N(F.a.SMART_BUNDLE_BUY_NOW_BUTTON_TEXT,i)}},F.a.SMART_BUNDLE_BUY_NOW_BUTTON_TEXT)}catch(T){return console.log(T),r.a.createElement(r.a.Fragment,null," ")}};var I=function(e){let{itemObj:t}=e;try{return r.a.createElement("div",{className:"cp-price"},r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"new-price"},r.a.createElement("span",{className:"icon icon-rupee"}),r.a.createElement("span",{className:"amount","data-testid":"new-price"},t&&t.totalCostSavingsDeducted&&t.totalCostSavingsDeducted.value?parseFloat(t.totalCostSavingsDeducted.value).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):t&&t.totalCost&&t.totalCost.value?parseFloat(t.totalCost.value).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):0)),r.a.createElement("span",{className:"old-price"},r.a.createElement("span",{className:"icon icon-rupee"}),r.a.createElement("span",{className:"amount",id:"old-price","data-testid":"old-price"},t&&t.totalCost&&t.totalCost.value?parseFloat(t.totalCost.value).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):0))))}catch(a){return console.log(a),r.a.createElement(r.a.Fragment,null," ")}},w=a(10),R=a(12);var j=a(314),L=a(164);const U=r.a.memo(y),G=r.a.memo(k),B=r.a.memo(I);var H=function(e){let{sectionHeading:t,showToastMsg:a,recId:l,productId:i,productPrice:n,offers:c}=e;const[d,u]=Object(o.useState)([]),m=[];Object(o.useEffect)(()=>{c&&c.length>0&&Array.isArray(c)&&c.forEach(e=>{(async function(e){try{const t={"Content-Type":s.a.CONTENT_TYPE_APP_JSON};return await w.HttpService.post(R.Fc,JSON.stringify(e),{headers:t})}catch(t){return{err:t}}})({promoCode:e.offerId,skuCode:i,productCodeSet:[]}).then(e=>{if(e.status>=200&&e.status<300){const t=e.data;t&&t.products&&Array.isArray(t.products)&&t.products.length>0&&(m.push(t),setTimeout(()=>{u(m)},200))}}).catch(e=>{})})},[c]),Object(o.useEffect)(()=>{d.length>0&&Object(L.b)(l,i,n,d.length,".".concat(l,"_carousal_product_info"),j.a)},[d]);try{return r.a.createElement(r.a.Fragment,null,d&&Array.isArray(d)&&d.length>0?r.a.createElement("div",{className:"cp-section typ-grey"},r.a.createElement("div",{className:"sec-head"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"sec-title"},t||F.a.SMART_BUNDLE_SECTION_HEADING))),r.a.createElement("div",{className:"sec-cont pdp-smart-bundle"},r.a.createElement("div",{className:"container"},d.map((e,o)=>r.a.createElement(r.a.Fragment,{key:o},e&&e.products&&Array.isArray(e.products)&&e.products.length>0&&r.a.createElement("div",{className:"cp-combo"},r.a.createElement("ul",{className:"wrap"},e.products.map((e,a)=>r.a.createElement("li",{className:"item",key:a},r.a.createElement(U,{sectionHeading:t,item:e,recId:l,productId:i,position:o+1,totalItems:d.length})))),r.a.createElement("div",{className:"total-wrap pdp-total-wrap"},r.a.createElement("p",{className:"combo-title"},F.a.SMART_BUNDLE_TOTAL_CART_VALUE_TEXT," ",r.a.createElement("span",null,"(",e.products.length," ",F.a.SMART_BUNDLE_TOTAL_CART_ITEMS_TEXT,")")),r.a.createElement(B,{itemObj:e}),r.a.createElement(G,{sectionHeading:t,smartBundleTotalPrice:e&&e.totalCostSavingsDeducted&&e.totalCostSavingsDeducted.value?e.totalCostSavingsDeducted.value:e&&e.totalCost&&e.totalCost.value?e.totalCost.value:0,itemArr:e.products,showToastMsg:a,recId:l})))))))):"")}catch(p){return console.log(p),r.a.createElement(r.a.Fragment,null," ")}},x=a(117),J=a(103),W=a(37),X=a(977),Y=a(439),$=a(129),z=a(195),K=a(138),V=a(68);const{CROMA_PRODUCT_COLUMN_COMPONENT:q,PRODUCT_CAROUSEL_COMPONENT:Q,ROTATING_IMAGES_COMPONENT:Z}=P.f,{BANNER:ee,PRODUCT:te,HYB_PRODUCT:ae}=P.a,{STACK:oe}=P.b,re=r.a.memo(H),le=r.a.memo(n.a),ie=r.a.memo(X.default),ne=r.a.memo(Y.a),ce=r.a.memo(V.a),se=e=>{let{pdpHybrisCMSData:t,pdpData:a,productPriceData:l,wishlistData:i,ssrHybrisCMSData:n,fetchHybrisCMSData:c,updateHybrisCMSSSRStatus:d,cleanProductData:u,smartBundleOffers:p,showToastMsg:g,setcarousalObserber:b,deviceType:v,pdpDataGA:C}=e;const[T,f]=Object(o.useState)([]),S=null===a||void 0===a?void 0:a.code,E="undefined"!==typeof Storage&&"true"===localStorage.getItem("isCSC"),D=Object(W.a)(),[h,y]=Object(o.useState)([]),[O,F]=Object(o.useState)([]),[_,M]=Object(o.useState)([]),[A,N]=Object(o.useState)(!0),[P,k]=Object(o.useState)([]),[I]=Object(m.a)();Object(o.useEffect)(()=>{a&&d(),S&&Number.isInteger(parseInt(S))&&(t&&n||c())},[a]),Object(o.useEffect)(()=>{if(t){w();const e=(t&&t.contentSlots&&t.contentSlots.contentSlot&&Array.isArray(t.contentSlots.contentSlot)&&t.contentSlots.contentSlot.find(e=>"PWAProductDetailPage"===e.position)).components.component;f(e)}else f([])},[t,A]),"undefined"!==typeof window&&(window.callMSDOnPinChange=()=>{A||N(!0)});const w=()=>{if(A){const e={correlation_id:s.a.MSD_API_CORRELATION_ID,client:s.a.MSD_API_CLIENT,catalog:s.a.MSD_API_CATALOG,config_name:s.a.MSD_API_CONFIG,rec_params:{catalog_item_id:S,pincode:"undefined"!==typeof Storage&&localStorage.getItem("3hrPincode")?JSON.parse(localStorage.getItem("3hrPincode")):""},num_results:s.a.MAX_PRODUCT_SLIDER_TILES,user_id:"".concat(D.user_id),org_user_id:"".concat(D.org_user_id),mad_uuid:"".concat(D.mad_uuid),fields:["product_image_url","product_image_text","product_title","product_price","discount_price","rating","product_detail_page_url"],filters:[]};Object(x.a)(e).then(e=>{if(e.status>=200&&e.status<300){const t=e.data;t&&t.results&&Array.isArray(t.results)&&t.results.length>0?y(t):y([])}else y([]);N(!1)}).catch(e=>{y([]),N(!1)})}};Object(o.useEffect)(()=>{b(!0)},[]),Object(o.useEffect)(()=>{let e=[];Object(J.f)(S).then(t=>{var a,o;const r=t.data,l=r&&(null===r||void 0===r?void 0:r.contentSlots)&&(null===r||void 0===r||null===(a=r.contentSlots)||void 0===a?void 0:a.contentSlot)&&Array.isArray(r.contentSlots.contentSlot)&&r.contentSlots.contentSlot.find(e=>"PDPMerchantDrivenCarousel"===e.position),i=null===l||void 0===l||null===(o=l.components)||void 0===o?void 0:o.component;if((null===i||void 0===i?void 0:i.length)>0&&i.forEach(t=>{t.effect===ae&&t.typeCode===Q&&(e=e.concat(null===t||void 0===t?void 0:t.sortedProductCodes))}),e&&Array.isArray(e)&&e.length>0){let t=e.join(",");Object(K.c)(t).then(e=>{"success"==e.status?k(e.data):k([])})}e&&Array.isArray(e)&&e.length>0&&Object(z.c)(e).then(e=>{"success"===e.status&&F(e.data.listOfProduct)}),M(i)})},[]);try{return r.a.createElement(r.a.Fragment,null,_&&Array.isArray(_)&&_.map((e,t)=>{var a,o;return r.a.createElement(r.a.Fragment,{key:t},e.effect===ae&&e.typeCode===Q&&r.a.createElement(ie,{showToastMsg:g,recName:e.name,name:"".concat(e.uid).concat(t),title:e.title,data:e,deviceType:v,hybProdDetails:O,priceList:P,pdpDataGA:C}),"TURNDOWN"===e.effect&&e.typeCode===Z&&e.bannerList&&Array.isArray(e.bannerList)&&e.bannerList.length>0&&r.a.createElement(ne,{items:e.bannerList,title:e.name,name:"".concat(e.uid).concat(t),count:e.bannerList.length,uid:e.uid,data:e,deviceType:v,lazyLoad:!1}),"SPLIT2"===e.effect&&e.typeCode===Z&&r.a.createElement($.a,{rotatingData:e,page:"pdp"}),"SPLIT4"===e.effect&&e.typeCode===Z&&r.a.createElement($.a,{rotatingData:e,page:"pdp"}),I<768&&r.a.createElement(r.a.Fragment,null,e.typeCode===q&&e.effect===ee&&e.effectTypeForMobile===oe&&r.a.createElement(ce,{width:I,subTitle:(null===e||void 0===e?void 0:e.subtitleForMobile)&&(null===e||void 0===e?void 0:e.subtitleForMobile),showSubTitle:(null===e||void 0===e?void 0:e.showSubtitleForMobile)&&(null===e||void 0===e?void 0:e.showSubtitleForMobile),title:(null===e||void 0===e?void 0:e.titleForMobile)&&(null===e||void 0===e?void 0:e.titleForMobile),showTitle:(null===e||void 0===e?void 0:e.showTitleForMobile)&&(null===e||void 0===e?void 0:e.showTitleForMobile),recName:e.name,numOfColumn:null===e||void 0===e||null===(a=e.numberOfColumnForMobile)||void 0===a?void 0:a.slice(1),name:"".concat(null===e||void 0===e?void 0:e.uid).concat(t),data:e,items:e.mobileBannerList&&e.mobileBannerList,deviceType:v,titleColor:e.titleColorForMobile,subTitleColor:e.subtitleColorForMobile,uid:null===e||void 0===e?void 0:e.uid,centerGap:e.imageCenterGapForMobile,titleAlignment:e.titleAlignmentForMobile,subtitleAlignment:e.subtitleAlignmentForMobile,cornerRadius:e.imageCornerRadiusForMobile,topMargin:e.imageTopMarginForMobile,bottomMargin:e.imageBottomMarginForMobile,showBackGround:e.isBackgroundEnableForMobile,backGroundImageData:e.mobileBackground,linearGradientColor1:e.backgroundGradientColor1ForMobile,linearGradientColor2:e.backgroundGradientColor2ForMobile,backgroundColorSolid:e.backgroundColorForMobile,gradientDirection:e.backgroundColorGradientTypeForMobile,activateTimer:e.activateTimerForMobile,textTimerOff:e.textFieldForContentWhenTimerGoesOffMobile,textSaleStartEnd:e.textFieldForSaleStartOrEndTextMobile,timerEnd:e.selectStartOrEndDateAndTimeMobile,timerAlignment:e.alignmentForTimerMobile,timercolor:e.colorOfTimerAndTextMobile,topPadding:e.textFieldForDynamicTopPaddingForBackgroundImageForMobile,headingName:null===e||void 0===e?void 0:e.name})),I>=768&&r.a.createElement(r.a.Fragment,null,e.typeCode===q&&e.effect===ee&&e.effectTypeForDesktop===oe&&r.a.createElement(ce,{width:I,subTitle:(null===e||void 0===e?void 0:e.subtitleForDesktop)&&(null===e||void 0===e?void 0:e.subtitleForDesktop),showSubTitle:(null===e||void 0===e?void 0:e.showSubtitleForDesktop)&&(null===e||void 0===e?void 0:e.showSubtitleForDesktop),uid:null===e||void 0===e?void 0:e.uid,title:(null===e||void 0===e?void 0:e.titleForDesktop)&&(null===e||void 0===e?void 0:e.titleForDesktop),showTitle:(null===e||void 0===e?void 0:e.showTitleForDesktop)&&(null===e||void 0===e?void 0:e.showTitleForDesktop),recName:null===e||void 0===e?void 0:e.name,numOfColumn:null===e||void 0===e||null===(o=e.numberOfColumnForDesktop)||void 0===o?void 0:o.slice(1),name:"".concat(null===e||void 0===e?void 0:e.uid).concat(t),data:e,items:null===e||void 0===e?void 0:e.bannerList,deviceType:v,titleColor:e.titleColorForDesktop,subTitleColor:e.subtitleColorForDesktop,centerGap:e.imageCenterGapForDesktop,titleAlignment:e.titleAlignmentForDesktop,subtitleAlignment:e.subtitleAlignmentForDesktop,cornerRadius:e.imageCornerRadiusForDesktop,topMargin:e.imageTopMarginForDesktop,bottomMargin:e.imagebottomMarginForDesktop,showBackGround:e.isBackgroundEnableForDesktop,backGroundImageData:e.backGroundMedia,linearGradientColor1:e.backgroundGradientColor1ForDesktop,linearGradientColor2:e.backgroundGradientColor2ForDesktop,backgroundColorSolid:e.backgroundColorForDesktop,gradientDirection:e.backgroundColorGradientTypeForDesktop,activateTimer:e.activateTimerForDesktop,textTimerOff:e.textFieldForContentWhenTimerGoesOffDesktop,textSaleStartEnd:e.textFieldForSaleStartOrEndTextDesktop,timerEnd:e.selectStartOrEndDateAndTimeDesktop,timerAlignment:e.alignmentForTimerDesktop,timercolor:e.colorOfTimerAndTextDesktop,topPadding:e.textFieldForDynamicTopPaddingForBackgroundImageForDesktop,headingName:null===e||void 0===e?void 0:e.name})))}),T&&Array.isArray(T)&&T.map((e,t)=>r.a.createElement(r.a.Fragment,{key:t},!E&&e.effect===te&&e.typeCode===Q&&r.a.createElement(le,{wishlistData:i,showToastMsg:g,sectionHeading:e.title,recId:e.name,productId:S,productPrice:l?l.sellingPrice?l.sellingPrice.value:l.mrp?l.mrp.value:0:0,addToCartAvailable:!1,cleanProductData:()=>u(),setcarousalObserber:b,pdpRecommendedProductListData:h,pdpDetailData:a}),"PRODUCTBUNDLE"===e.effect&&e.typeCode===Q&&r.a.createElement(re,{offers:p,showToastMsg:g,sectionHeading:e.title,recId:e.name,productId:S,productPrice:l?l.sellingPrice?l.sellingPrice.value:l.mrp?l.mrp.value:0:0}),!E&&"PRODUCTADD"===e.effect&&e.typeCode===Q&&r.a.createElement(le,{wishlistData:i,showToastMsg:g,sectionHeading:e.title,recId:e.name,productId:S,productPrice:l?l.sellingPrice?l.sellingPrice.value:l.mrp?l.mrp.value:0:0,addToCartAvailable:!0,cleanProductData:()=>u(),setcarousalObserber:b,pdpRecommendedProductListData:h,pdpDetailData:a}))))}catch(R){return console.log(R),r.a.createElement(r.a.Fragment,null)}},de=e=>({pdpData:e.pdpReducer.pdpData,pdpHybrisCMSData:e.hybrisCmsReducer.pdpHybrisCMSData,isHybrisCMSFetching:e.hybrisCmsReducer.isHybrisCMSFetching,ssrHybrisCMSData:e.hybrisCmsReducer.ssrHybrisCMSData,deviceType:e.homeReducer.deviceType}),ue=e=>({updateHybrisCMSSSRStatus:()=>{e(Object(i.a)())},fetchHybrisCMSData:()=>{e(Object(i.d)())}});t.default=Object(l.b)(de,ue)(se)}}]);